/* Code generated by kreuzberg-e2e-generator. DO NOT EDIT. */
/* Category: archive */

#include "helpers.h"
#include <stdio.h>

static void test_archive_archive_sevenz_basic(void) {
    CExtractionResult *result = run_extraction("archives/documents.7z", NULL);
    if (!result) return; /* skipped */
    assert_expected_mime(result, (const char *[]){"application/x-7z-compressed"}, 1);
    assert_min_content_length(result, 10);
    kreuzberg_free_result(result);
}

static void test_archive_archive_tar_basic(void) {
    CExtractionResult *result = run_extraction("archives/documents.tar", NULL);
    if (!result) return; /* skipped */
    assert_expected_mime(result, (const char *[]){"application/x-tar", "application/tar"}, 2);
    assert_min_content_length(result, 10);
    kreuzberg_free_result(result);
}

static void test_archive_archive_zip_basic(void) {
    CExtractionResult *result = run_extraction("archives/documents.zip", NULL);
    if (!result) return; /* skipped */
    assert_expected_mime(result, (const char *[]){"application/zip", "application/x-zip-compressed"}, 2);
    assert_min_content_length(result, 10);
    kreuzberg_free_result(result);
}

int main(void) {
    test_archive_archive_sevenz_basic();
    test_archive_archive_tar_basic();
    test_archive_archive_zip_basic();
    printf("test_archive: all tests passed\n");
    return 0;
}
