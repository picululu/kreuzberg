<?php

declare(strict_types=1);

// Code generated by kreuzberg-e2e-generator. DO NOT EDIT.
// To regenerate: cargo run -p kreuzberg-e2e-generator -- generate --lang php

// Tests for keywords fixtures.

namespace E2EPhp\Tests;

use E2EPhp\Helpers;
use Kreuzberg\Kreuzberg;
use PHPUnit\Framework\TestCase;

class KeywordsTest extends TestCase
{
    /**
     * Tests keyword extraction using RAKE algorithm
     */
    public function test_keywords_rake(): void
    {
        $documentPath = Helpers::resolveDocument('pdf/fake_memo.pdf');
        if (!file_exists($documentPath)) {
            $this->markTestSkipped('Skipping keywords_rake: missing document at ' . $documentPath);
        }

        $config = Helpers::buildConfig(['keywords' => ['algorithm' => 'rake', 'max_keywords' => 10]]);

        $kreuzberg = new Kreuzberg($config);
        $result = $kreuzberg->extractFile($documentPath);

        Helpers::assertExpectedMime($result, ['application/pdf']);
        Helpers::assertMinContentLength($result, 10);
        Helpers::assertKeywords($result, true, 1, 10);
    }

    /**
     * Tests keyword extraction using YAKE algorithm
     */
    public function test_keywords_yake(): void
    {
        $documentPath = Helpers::resolveDocument('pdf/fake_memo.pdf');
        if (!file_exists($documentPath)) {
            $this->markTestSkipped('Skipping keywords_yake: missing document at ' . $documentPath);
        }

        $config = Helpers::buildConfig(['keywords' => ['algorithm' => 'yake', 'max_keywords' => 10]]);

        $kreuzberg = new Kreuzberg($config);
        $result = $kreuzberg->extractFile($documentPath);

        Helpers::assertExpectedMime($result, ['application/pdf']);
        Helpers::assertMinContentLength($result, 10);
        Helpers::assertKeywords($result, true, 1, 10);
    }

}
