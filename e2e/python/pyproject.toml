[build-system]
build-backend = "setuptools.build_meta"
requires = [ "setuptools>=68", "wheel" ]

[project]
name = "kreuzberg-e2e-tests"
version = "4.2.0"
description = "End-to-end tests for Kreuzberg Python bindings config parity"
requires-python = ">=3.10"
classifiers = [
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
]
dependencies = [ "kreuzberg" ]
optional-dependencies.dev = [ "pytest>=7.4", "pytest-asyncio>=0.23", "pytest-cov>=4.1", "pytest-timeout>=2.1" ]

[tool.uv]
sources.kreuzberg = { workspace = true }

[tool.pytest]
ini_options.asyncio_mode = "auto"
ini_options.testpaths = [ "tests" ]
ini_options.python_files = "test_*.py"
ini_options.python_classes = "Test*"
ini_options.python_functions = "test_*"
ini_options.addopts = "-v --strict-markers --tb=short"
ini_options.markers = [ "e2e: end-to-end tests", "slow: slow tests" ]
ini_options.timeout = 300

[tool.coverage]
run.omit = [ "*/__pycache__/*" ]
run.source = [ "tests" ]
report.exclude_lines = [
  "def __repr__",
  "if __name__ == .__main__.:",
  "pragma: no cover",
  "raise AssertionError",
  "raise NotImplementedError",
]
